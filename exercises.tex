%==============================================================================
%  Algebraic Topology - Exercises
%  Initial LaTeX Commit
%==============================================================================

\documentclass[12pt]{book}

%------------------------------------------------------------------------------
%   Packages
%------------------------------------------------------------------------------
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}

\usepackage{tikz}
\usepackage{tikz-cd}
\usetikzlibrary{calc,3d}

\usepackage{amsmath,amssymb,amsthm}
\usepackage{mathtools}    % For extra math features (e.g., \DeclareMathOperator)
\usepackage{geometry}
\geometry{margin=1in}

\usepackage{xparse}
\usepackage{xcolor}

%------------------------------------------------------------------------------
%   Custom Commands for Algebraic Topology
%------------------------------------------------------------------------------
% Reduced homology, e.g. \rH_n(X)
\newcommand{\rH}{\widetilde{H}}

% Common functors in algebraic topology
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\Ext}{Ext}
\DeclareMathOperator{\Tor}{Tor}
\DeclareMathOperator{\colim}{colim}
\DeclareMathOperator{\hocolim}{hocolim}
\DeclareMathOperator{\holim}{holim}

% Smash and wedge products, etc.
\newcommand{\wedgeprod}{\wedge}
\newcommand{\wedgesum}{\vee}

% Often we override \Im, \Re, \ker, etc. for nicer formatting:
\renewcommand{\Im}{\operatorname{Im}}
\renewcommand{\Re}{\operatorname{Re}}
\DeclareMathOperator{\Ker}{Ker}

%------------------------------------------------------------------------------
%   Define 'taggedexercise' environment
%------------------------------------------------------------------------------
% We want each exercise to appear in the ToC at subsection level
\NewDocumentEnvironment{taggedexercise}{O{}}
{%
  \refstepcounter{exercise}%
  \par\noindent
  \textbf{Exercise \theexercise}%
  \if\relax\detokenize{#1}\relax
  \else
    \textbf{\ [#1]}%
  \fi
  \quad
  \addcontentsline{toc}{subsection}{%
    Exercise \theexercise
    \if\relax\detokenize{#1}\relax
    \else
      \ [#1]%
    \fi
  }
}{%
  \par
}

%------------------------------------------------------------------------------
%   Theorem-Like Environments
%------------------------------------------------------------------------------
\theoremstyle{definition}
\newtheorem{exercise}{Exercise}[chapter]

% Custom solution environment
\newenvironment{solution}
{%
  \par\noindent\textbf{Solution.}\quad
}
{%
  \qed\par
}

%------------------------------------------------------------------------------
%   Metadata
%------------------------------------------------------------------------------
\title{Exercises from \textit{Algebraic Topology} \\
       by Allen Hatcher}
\author{Tyler Jensen | tyjensen222@gmail.com}
\date{\today}

%------------------------------------------------------------------------------
%   Document
%------------------------------------------------------------------------------
\begin{document}

\frontmatter
\maketitle
\tableofcontents

\mainmatter

%------------------------------------------------------------------------------
%  START CHAPTERS AT 0
%------------------------------------------------------------------------------
\setcounter{chapter}{-1}

%==============================================================================
\chapter{Som Underlying Geometric Notions}
%==============================================================================


% Example exercise
\begin{taggedexercise}[\textcolor{red}{TODO}]
  Show that ...
\end{taggedexercise}

\begin{solution}
  Here is the solution ...
\end{solution}

%==============================================================================
\chapter{Fundamental Group}
%==============================================================================

... content ...

\end{document}

